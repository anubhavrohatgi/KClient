ADD_LIBRARY (IMPORTED_LIBZMQPP SHARED IMPORTED GLOBAL)

INCLUDE(ExternalProject)

ExternalProject_Add(
        LIBZMQPP_DOWNLOAD
        PREFIX ${CMAKE_BINARY_DIR}
        GIT_REPOSITORY https://github.com/zeromq/cppzmq.git
        CONFIGURE_COMMAND ""
        BUILD_COMMAND ""
        INSTALL_COMMAND ""
        UPDATE_COMMAND ""
        LOG_DOWNLOAD ON
        LOG_INSTALL ON
        )

ExternalProject_Get_Property(LIBZMQPP_DOWNLOAD SOURCE_DIR)
SET(LIBZMQPP_INCLUDE_DIR ${SOURCE_DIR})


ADD_DEPENDENCIES (IMPORTED_LIBZMQPP LIBZMQPP_DOWNLOAD)

MESSAGE (STATUS "LIBZMQPP_INCLUDE_DIR ${LIBZMQPP_INCLUDE_DIR}")
SET_TARGET_PROPERTIES (IMPORTED_LIBZMQPP PROPERTIES IMPORTED_LOCATION "" INTERFACE_INCLUDE_DIRECTORIES ${LIBZMQPP_INCLUDE_DIR})
